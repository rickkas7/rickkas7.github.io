<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DeviceGroupHelperRK: DeviceGroupHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DeviceGroupHelperRK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DeviceGroupHelper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class to use device groups on a Particle device.  
 <a href="class_device_group_helper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_device_group_helper_r_k_8h_source.html">DeviceGroupHelperRK.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a53cccfbb4734f2e60d9a5e19f93635ca"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">RetrievalMode</a> { <a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635caaa60a6a471c0681e5a49c4f5d00f6bc5a">RetrievalMode::MANUAL</a>, 
<a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635caac74cc9c17f09c8abfbc8b0a16a54a4e9">RetrievalMode::AT_START</a>, 
<a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635caad9d83fc826ae0d42075af007a477e2c9">RetrievalMode::PERIODIC</a>
 }</td></tr>
<tr class="memdesc:a53cccfbb4734f2e60d9a5e19f93635ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">How often to retrieve device groups.  <a href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">More...</a><br /></td></tr>
<tr class="separator:a53cccfbb4734f2e60d9a5e19f93635ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b992441e25ce8db2007d04814be8b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">NotificationType</a> { <a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0ac5d66c61a88f1b214933a91fda1e13f5">NotificationType::UPDATED</a>, 
<a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0a55771bcb939a8afbf4d119d6e0099317">NotificationType::ADDED</a>, 
<a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0ab3461745d64b12346503b2980e436db5">NotificationType::REMOVED</a>
 }</td></tr>
<tr class="memdesc:a82b992441e25ce8db2007d04814be8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for the notify callback to specify what is being notified of.  <a href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">More...</a><br /></td></tr>
<tr class="separator:a82b992441e25ce8db2007d04814be8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a391ffcadeab8bc8153f4ce479ecda295"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a391ffcadeab8bc8153f4ce479ecda295">withEventName</a> (const char *<a class="el" href="class_device_group_helper.html#a684af16911d6459984b623d298ecbfd9">eventName</a>)</td></tr>
<tr class="memdesc:a391ffcadeab8bc8153f4ce479ecda295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the name of the event used to get the device group. Must match integration.  <a href="class_device_group_helper.html#a391ffcadeab8bc8153f4ce479ecda295">More...</a><br /></td></tr>
<tr class="separator:a391ffcadeab8bc8153f4ce479ecda295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4366437e1f4ccb481462917b55380d1"><td class="memItemLeft" align="right" valign="top"><a id="ad4366437e1f4ccb481462917b55380d1"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ad4366437e1f4ccb481462917b55380d1">getEventName</a> () const</td></tr>
<tr class="memdesc:ad4366437e1f4ccb481462917b55380d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the event name to use for the webhook. <br /></td></tr>
<tr class="separator:ad4366437e1f4ccb481462917b55380d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acc9af17f8dfd4b9523fc0ce63a5e7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a2acc9af17f8dfd4b9523fc0ce63a5e7d">withRetrievalModeManual</a> ()</td></tr>
<tr class="memdesc:a2acc9af17f8dfd4b9523fc0ce63a5e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets manual retrieval mode. This is the default mode.  <a href="class_device_group_helper.html#a2acc9af17f8dfd4b9523fc0ce63a5e7d">More...</a><br /></td></tr>
<tr class="separator:a2acc9af17f8dfd4b9523fc0ce63a5e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf2d2fb545d1328abe8e86c9d225ea5"><td class="memItemLeft" align="right" valign="top"><a id="acdf2d2fb545d1328abe8e86c9d225ea5"></a>
<a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#acdf2d2fb545d1328abe8e86c9d225ea5">withRetrievalModeAtStart</a> ()</td></tr>
<tr class="memdesc:acdf2d2fb545d1328abe8e86c9d225ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets retrieve groups at start mode. This should be done before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>. <br /></td></tr>
<tr class="separator:acdf2d2fb545d1328abe8e86c9d225ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a084627a244f8df62fbfa23fa482ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ab1a084627a244f8df62fbfa23fa482ac">withRetrievalModePeriodic</a> (unsigned long ms)</td></tr>
<tr class="memdesc:ab1a084627a244f8df62fbfa23fa482ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets retrieve groups at start mode and periodically mode. This should be done before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>.  <a href="class_device_group_helper.html#ab1a084627a244f8df62fbfa23fa482ac">More...</a><br /></td></tr>
<tr class="separator:ab1a084627a244f8df62fbfa23fa482ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42dfaafd727304c533142e6dae7b930"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ab42dfaafd727304c533142e6dae7b930">withRetrievalModePeriodic</a> (std::chrono::milliseconds chronoLiteral)</td></tr>
<tr class="memdesc:ab42dfaafd727304c533142e6dae7b930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets retrieve groups at start mode and periodically mode. This should be done before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>.  <a href="class_device_group_helper.html#ab42dfaafd727304c533142e6dae7b930">More...</a><br /></td></tr>
<tr class="separator:ab42dfaafd727304c533142e6dae7b930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba051dc5589bd918db6f5c49b47c34d"><td class="memItemLeft" align="right" valign="top"><a id="aaba051dc5589bd918db6f5c49b47c34d"></a>
<a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#aaba051dc5589bd918db6f5c49b47c34d">withRetrievalMode</a> (<a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">RetrievalMode</a> <a class="el" href="class_device_group_helper.html#ae19cf1348bf31b0b7b5f5082b2c7779a">retrievalMode</a>)</td></tr>
<tr class="memdesc:aaba051dc5589bd918db6f5c49b47c34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the retrieve mode using RetrievalMode value. <br /></td></tr>
<tr class="separator:aaba051dc5589bd918db6f5c49b47c34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dde44b8337c54de41a352ce3d55d7f"><td class="memItemLeft" align="right" valign="top"><a id="ab6dde44b8337c54de41a352ce3d55d7f"></a>
<a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">RetrievalMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ab6dde44b8337c54de41a352ce3d55d7f">getRetrievalMode</a> () const</td></tr>
<tr class="memdesc:ab6dde44b8337c54de41a352ce3d55d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current retrival mode (how often to fetch group membership) <br /></td></tr>
<tr class="separator:ab6dde44b8337c54de41a352ce3d55d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab0cf6e1d3ce1c0bac367cd38353989"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a2ab0cf6e1d3ce1c0bac367cd38353989">withPeriodicTimeMs</a> (unsigned long ms)</td></tr>
<tr class="memdesc:a2ab0cf6e1d3ce1c0bac367cd38353989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the periodic time to check when in RetrivalMode::PERIODIC.  <a href="class_device_group_helper.html#a2ab0cf6e1d3ce1c0bac367cd38353989">More...</a><br /></td></tr>
<tr class="separator:a2ab0cf6e1d3ce1c0bac367cd38353989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd89bffe6ea15dee118e40460fdb2de"><td class="memItemLeft" align="right" valign="top"><a id="a4bd89bffe6ea15dee118e40460fdb2de"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a4bd89bffe6ea15dee118e40460fdb2de">getPeriodicTimeMs</a> () const</td></tr>
<tr class="memdesc:a4bd89bffe6ea15dee118e40460fdb2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the periodic time to check in milliseconds. <br /></td></tr>
<tr class="separator:a4bd89bffe6ea15dee118e40460fdb2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5068197acbf538ae4e7c52c1fabb35be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a5068197acbf538ae4e7c52c1fabb35be">withNotifyCallback</a> (std::function&lt; void(<a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">NotificationType</a>, const char *)&gt; <a class="el" href="class_device_group_helper.html#ab256d2cb71368d991e086c030aa3e48f">notifyCallback</a>)</td></tr>
<tr class="memdesc:a5068197acbf538ae4e7c52c1fabb35be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a function to be called when the group list is updated.  <a href="class_device_group_helper.html#a5068197acbf538ae4e7c52c1fabb35be">More...</a><br /></td></tr>
<tr class="separator:a5068197acbf538ae4e7c52c1fabb35be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf814601ee06ab2cf23aca3104cabfb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5">setup</a> ()</td></tr>
<tr class="memdesc:aaf814601ee06ab2cf23aca3104cabfb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">You must call <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a> from global application <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>!  <a href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5">More...</a><br /></td></tr>
<tr class="separator:aaf814601ee06ab2cf23aca3104cabfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13243a73bb51187dab222ad55153c76d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d">loop</a> ()</td></tr>
<tr class="memdesc:a13243a73bb51187dab222ad55153c76d"><td class="mdescLeft">&#160;</td><td class="mdescRight">You must call <a class="el" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d" title="You must call loop() from global application loop()!">loop()</a> from global application <a class="el" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d" title="You must call loop() from global application loop()!">loop()</a>!  <a href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d">More...</a><br /></td></tr>
<tr class="separator:a13243a73bb51187dab222ad55153c76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cf11713fba409f8dbf459348cb018b"><td class="memItemLeft" align="right" valign="top">const std::unordered_set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a14cf11713fba409f8dbf459348cb018b">getGroups</a> () const</td></tr>
<tr class="memdesc:a14cf11713fba409f8dbf459348cb018b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the set of all groups the device current belongs to.  <a href="class_device_group_helper.html#a14cf11713fba409f8dbf459348cb018b">More...</a><br /></td></tr>
<tr class="separator:a14cf11713fba409f8dbf459348cb018b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474391afc3128b1a1845c2533ef9181d"><td class="memItemLeft" align="right" valign="top"><a id="a474391afc3128b1a1845c2533ef9181d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a474391afc3128b1a1845c2533ef9181d">retrievedGroups</a> () const</td></tr>
<tr class="memdesc:a474391afc3128b1a1845c2533ef9181d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the group list has been retrieved. <br /></td></tr>
<tr class="separator:a474391afc3128b1a1845c2533ef9181d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20efc41e233926ff497043043eba785"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ac20efc41e233926ff497043043eba785">isInGroup</a> (const char *group) const</td></tr>
<tr class="memdesc:ac20efc41e233926ff497043043eba785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this device belongs to the specified group.  <a href="class_device_group_helper.html#ac20efc41e233926ff497043043eba785">More...</a><br /></td></tr>
<tr class="separator:ac20efc41e233926ff497043043eba785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9de5b97127b1b8a38f5540ec50d19b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ac9de5b97127b1b8a38f5540ec50d19b4">update</a> ()</td></tr>
<tr class="memdesc:ac9de5b97127b1b8a38f5540ec50d19b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests an update of the group list.  <a href="class_device_group_helper.html#ac9de5b97127b1b8a38f5540ec50d19b4">More...</a><br /></td></tr>
<tr class="separator:ac9de5b97127b1b8a38f5540ec50d19b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a47b4e36d163d5b348519ffa64ec38df4"><td class="memItemLeft" align="right" valign="top"><a id="a47b4e36d163d5b348519ffa64ec38df4"></a>
static <a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4">instance</a> ()</td></tr>
<tr class="memdesc:a47b4e36d163d5b348519ffa64ec38df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the singleton instance of this class. <br /></td></tr>
<tr class="separator:a47b4e36d163d5b348519ffa64ec38df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7602d9e5ebaf88bde8425f46a4657ba9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a7602d9e5ebaf88bde8425f46a4657ba9">DeviceGroupHelper</a> ()</td></tr>
<tr class="memdesc:a7602d9e5ebaf88bde8425f46a4657ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor (protected)  <a href="class_device_group_helper.html#a7602d9e5ebaf88bde8425f46a4657ba9">More...</a><br /></td></tr>
<tr class="separator:a7602d9e5ebaf88bde8425f46a4657ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cae1616e969c60b321a398620af172"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ad5cae1616e969c60b321a398620af172">~DeviceGroupHelper</a> ()</td></tr>
<tr class="memdesc:ad5cae1616e969c60b321a398620af172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor - never used.  <a href="class_device_group_helper.html#ad5cae1616e969c60b321a398620af172">More...</a><br /></td></tr>
<tr class="separator:ad5cae1616e969c60b321a398620af172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec2d72dc2c244a73694af179afe5096"><td class="memItemLeft" align="right" valign="top"><a id="abec2d72dc2c244a73694af179afe5096"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#abec2d72dc2c244a73694af179afe5096">DeviceGroupHelper</a> (const <a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;)=delete</td></tr>
<tr class="memdesc:abec2d72dc2c244a73694af179afe5096"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:abec2d72dc2c244a73694af179afe5096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7ca697bf064b44d604973a7497bfd4"><td class="memItemLeft" align="right" valign="top"><a id="a7b7ca697bf064b44d604973a7497bfd4"></a>
<a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a7b7ca697bf064b44d604973a7497bfd4">operator=</a> (const <a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;)=delete</td></tr>
<tr class="memdesc:a7b7ca697bf064b44d604973a7497bfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:a7b7ca697bf064b44d604973a7497bfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f3fe0432834e4cdfd2c5613ef30052"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#aa5f3fe0432834e4cdfd2c5613ef30052">stateWaitConnected</a> ()</td></tr>
<tr class="memdesc:aa5f3fe0432834e4cdfd2c5613ef30052"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler, waits for Particle.connected() then publishes the request event.  <a href="class_device_group_helper.html#aa5f3fe0432834e4cdfd2c5613ef30052">More...</a><br /></td></tr>
<tr class="separator:aa5f3fe0432834e4cdfd2c5613ef30052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99b11582b84e939340ac41a9ad7136e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ae99b11582b84e939340ac41a9ad7136e">stateWaitResponse</a> ()</td></tr>
<tr class="memdesc:ae99b11582b84e939340ac41a9ad7136e"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler, waits for the subscription handler to be called.  <a href="class_device_group_helper.html#ae99b11582b84e939340ac41a9ad7136e">More...</a><br /></td></tr>
<tr class="separator:ae99b11582b84e939340ac41a9ad7136e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d081d93aa8d758adce0ce4ea435e4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#aa4d081d93aa8d758adce0ce4ea435e4b">stateWaitPeriodic</a> ()</td></tr>
<tr class="memdesc:aa4d081d93aa8d758adce0ce4ea435e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler to wait for the next periodic check, or go into idle state (0)  <a href="class_device_group_helper.html#aa4d081d93aa8d758adce0ce4ea435e4b">More...</a><br /></td></tr>
<tr class="separator:aa4d081d93aa8d758adce0ce4ea435e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d03525e7a21deadb41c85f1dd96fc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a25d03525e7a21deadb41c85f1dd96fc7">stateWaitRetry</a> ()</td></tr>
<tr class="memdesc:a25d03525e7a21deadb41c85f1dd96fc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler for waiting to retry after the subscribe handler was not called.  <a href="class_device_group_helper.html#a25d03525e7a21deadb41c85f1dd96fc7">More...</a><br /></td></tr>
<tr class="separator:a25d03525e7a21deadb41c85f1dd96fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418659510a2498a002c0b8ed10700400"><td class="memItemLeft" align="right" valign="top"><a id="a418659510a2498a002c0b8ed10700400"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a418659510a2498a002c0b8ed10700400">subscriptionHandler</a> (const char *event, const char *data)</td></tr>
<tr class="memdesc:a418659510a2498a002c0b8ed10700400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscription handler to receive webhook responses. <br /></td></tr>
<tr class="separator:a418659510a2498a002c0b8ed10700400"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a684af16911d6459984b623d298ecbfd9"><td class="memItemLeft" align="right" valign="top"><a id="a684af16911d6459984b623d298ecbfd9"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a684af16911d6459984b623d298ecbfd9">eventName</a> = &quot;G52ES20Q_DeviceGroup&quot;</td></tr>
<tr class="memdesc:a684af16911d6459984b623d298ecbfd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event name, set with <a class="el" href="class_device_group_helper.html#a391ffcadeab8bc8153f4ce479ecda295" title="Specify the name of the event used to get the device group. Must match integration.">withEventName()</a>. This must match the webhook. <br /></td></tr>
<tr class="separator:a684af16911d6459984b623d298ecbfd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae19cf1348bf31b0b7b5f5082b2c7779a"><td class="memItemLeft" align="right" valign="top"><a id="ae19cf1348bf31b0b7b5f5082b2c7779a"></a>
<a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">RetrievalMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ae19cf1348bf31b0b7b5f5082b2c7779a">retrievalMode</a> = <a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635caaa60a6a471c0681e5a49c4f5d00f6bc5a">RetrievalMode::MANUAL</a></td></tr>
<tr class="memdesc:ae19cf1348bf31b0b7b5f5082b2c7779a"><td class="mdescLeft">&#160;</td><td class="mdescRight">How often to retrieve the group membership data. <br /></td></tr>
<tr class="separator:ae19cf1348bf31b0b7b5f5082b2c7779a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4811c84b19c154b03b3a9f43adc32e0"><td class="memItemLeft" align="right" valign="top"><a id="ad4811c84b19c154b03b3a9f43adc32e0"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ad4811c84b19c154b03b3a9f43adc32e0">periodicTimeMs</a> = 0</td></tr>
<tr class="memdesc:ad4811c84b19c154b03b3a9f43adc32e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">When in <a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635caad9d83fc826ae0d42075af007a477e2c9" title="At startup, then periodically thereafter.">RetrievalMode::PERIODIC</a>, how often to check in milliseconds. <br /></td></tr>
<tr class="separator:ad4811c84b19c154b03b3a9f43adc32e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db1bb3400027f1bf8dedc7bb2dcde13"><td class="memItemLeft" align="right" valign="top"><a id="a0db1bb3400027f1bf8dedc7bb2dcde13"></a>
std::function&lt; void(<a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a0db1bb3400027f1bf8dedc7bb2dcde13">stateHandler</a> = 0</td></tr>
<tr class="memdesc:a0db1bb3400027f1bf8dedc7bb2dcde13"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler function. Can be NULL. <br /></td></tr>
<tr class="separator:a0db1bb3400027f1bf8dedc7bb2dcde13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433acff1e4db1b989c746d0664233a53"><td class="memItemLeft" align="right" valign="top"><a id="a433acff1e4db1b989c746d0664233a53"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a433acff1e4db1b989c746d0664233a53">stateTime</a> = 0</td></tr>
<tr class="memdesc:a433acff1e4db1b989c746d0664233a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Millis value for timing in some states. <br /></td></tr>
<tr class="separator:a433acff1e4db1b989c746d0664233a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d233beb230798a545d7372857b92158"><td class="memItemLeft" align="right" valign="top"><a id="a6d233beb230798a545d7372857b92158"></a>
std::unordered_set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a6d233beb230798a545d7372857b92158">groups</a></td></tr>
<tr class="memdesc:a6d233beb230798a545d7372857b92158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups this device belongs to. <br /></td></tr>
<tr class="separator:a6d233beb230798a545d7372857b92158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05235bf170bc6262393cb79580e5b9b7"><td class="memItemLeft" align="right" valign="top"><a id="a05235bf170bc6262393cb79580e5b9b7"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a05235bf170bc6262393cb79580e5b9b7">groupUpdateTime</a> = 0</td></tr>
<tr class="memdesc:a05235bf170bc6262393cb79580e5b9b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Millis value when the group list was last updated, or 0 for not updated. <br /></td></tr>
<tr class="separator:a05235bf170bc6262393cb79580e5b9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacfd9687d8b987f1445f80aa1cfd156f"><td class="memItemLeft" align="right" valign="top"><a id="aacfd9687d8b987f1445f80aa1cfd156f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#aacfd9687d8b987f1445f80aa1cfd156f">isIdle</a> = true</td></tr>
<tr class="memdesc:aacfd9687d8b987f1445f80aa1cfd156f"><td class="mdescLeft">&#160;</td><td class="mdescRight">stateHandler is idle and <a class="el" href="class_device_group_helper.html#ac9de5b97127b1b8a38f5540ec50d19b4" title="Requests an update of the group list.">update()</a> can push it into stateWaitConnected to update list <br /></td></tr>
<tr class="separator:aacfd9687d8b987f1445f80aa1cfd156f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e7f2f853b53a2199ab7c5b5af5bed7"><td class="memItemLeft" align="right" valign="top"><a id="a99e7f2f853b53a2199ab7c5b5af5bed7"></a>
std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a99e7f2f853b53a2199ab7c5b5af5bed7">groupResponseTimeout</a> = 30s</td></tr>
<tr class="memdesc:a99e7f2f853b53a2199ab7c5b5af5bed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">How long to wait for the webhook response. <br /></td></tr>
<tr class="separator:a99e7f2f853b53a2199ab7c5b5af5bed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab543bb021b653b0bb7ab9977a7b9d730"><td class="memItemLeft" align="right" valign="top"><a id="ab543bb021b653b0bb7ab9977a7b9d730"></a>
std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ab543bb021b653b0bb7ab9977a7b9d730">retryTimeout</a> = 2min</td></tr>
<tr class="memdesc:ab543bb021b653b0bb7ab9977a7b9d730"><td class="mdescLeft">&#160;</td><td class="mdescRight">How long to wait to retry after a failed webhook response. <br /></td></tr>
<tr class="separator:ab543bb021b653b0bb7ab9977a7b9d730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab256d2cb71368d991e086c030aa3e48f"><td class="memItemLeft" align="right" valign="top"><a id="ab256d2cb71368d991e086c030aa3e48f"></a>
std::function&lt; void(<a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">NotificationType</a>, const char *)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#ab256d2cb71368d991e086c030aa3e48f">notifyCallback</a> = 0</td></tr>
<tr class="memdesc:ab256d2cb71368d991e086c030aa3e48f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for when group membership is updated. <br /></td></tr>
<tr class="separator:ab256d2cb71368d991e086c030aa3e48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a4d92de80b901bf7732b72166ee872d4c"><td class="memItemLeft" align="right" valign="top"><a id="a4d92de80b901bf7732b72166ee872d4c"></a>
static <a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_device_group_helper.html#a4d92de80b901bf7732b72166ee872d4c">_instance</a> = 0</td></tr>
<tr class="memdesc:a4d92de80b901bf7732b72166ee872d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance of this class. <br /></td></tr>
<tr class="separator:a4d92de80b901bf7732b72166ee872d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to use device groups on a Particle device. </p>
<p>This is useful when you have a product and are using the device groups feature. Normally, use this to group related devices and control firmware releases. However, you can use this technique to read the device groups on-device, which would allow you to make decisions in device firmware based on group membership.</p>
<p>You can choose when to update groups (manually, at startup, or periodically).</p>
<p>You can then either query whether the device is in a specific group using the previously cached group list. This is fast and does not require network access so you can use it in your code liberally.</p>
<p>Or, if you prefer, you can register a notification function that will call your function with an indication that the list was updated, and when individual groups are added or removed from the previous retrieval. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a82b992441e25ce8db2007d04814be8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b992441e25ce8db2007d04814be8b0">&#9670;&nbsp;</a></span>NotificationType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">DeviceGroupHelper::NotificationType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for the notify callback to specify what is being notified of. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a82b992441e25ce8db2007d04814be8b0ac5d66c61a88f1b214933a91fda1e13f5"></a>UPDATED&#160;</td><td class="fielddoc"><p>The groups were updated. Use <a class="el" href="class_device_group_helper.html#a14cf11713fba409f8dbf459348cb018b" title="Gets the set of all groups the device current belongs to.">getGroups()</a> to get a set of all group names. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82b992441e25ce8db2007d04814be8b0a55771bcb939a8afbf4d119d6e0099317"></a>ADDED&#160;</td><td class="fielddoc"><p>This group was added. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82b992441e25ce8db2007d04814be8b0ab3461745d64b12346503b2980e436db5"></a>REMOVED&#160;</td><td class="fielddoc"><p>This group was removed. </p>
</td></tr>
</table>

</div>
</div>
<a id="a53cccfbb4734f2e60d9a5e19f93635ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53cccfbb4734f2e60d9a5e19f93635ca">&#9670;&nbsp;</a></span>RetrievalMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_device_group_helper.html#a53cccfbb4734f2e60d9a5e19f93635ca">DeviceGroupHelper::RetrievalMode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How often to retrieve device groups. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a53cccfbb4734f2e60d9a5e19f93635caaa60a6a471c0681e5a49c4f5d00f6bc5a"></a>MANUAL&#160;</td><td class="fielddoc"><p>Manually (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="a53cccfbb4734f2e60d9a5e19f93635caac74cc9c17f09c8abfbc8b0a16a54a4e9"></a>AT_START&#160;</td><td class="fielddoc"><p>At startup (once) </p>
</td></tr>
<tr><td class="fieldname"><a id="a53cccfbb4734f2e60d9a5e19f93635caad9d83fc826ae0d42075af007a477e2c9"></a>PERIODIC&#160;</td><td class="fielddoc"><p>At startup, then periodically thereafter. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7602d9e5ebaf88bde8425f46a4657ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7602d9e5ebaf88bde8425f46a4657ba9">&#9670;&nbsp;</a></span>DeviceGroupHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DeviceGroupHelper::DeviceGroupHelper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor (protected) </p>
<p>You never construct one of these - use the singleton instance using <code><a class="el" href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4" title="Get the singleton instance of this class.">DeviceGroupHelper::instance()</a></code>. </p>

</div>
</div>
<a id="ad5cae1616e969c60b321a398620af172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5cae1616e969c60b321a398620af172">&#9670;&nbsp;</a></span>~DeviceGroupHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DeviceGroupHelper::~DeviceGroupHelper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor - never used. </p>
<p>The singleton cannot be deleted. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a14cf11713fba409f8dbf459348cb018b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cf11713fba409f8dbf459348cb018b">&#9670;&nbsp;</a></span>getGroups()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_set&lt;std::string&gt; DeviceGroupHelper::getGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the set of all groups the device current belongs to. </p>
<p>This uses the previously retrieved list. This is fast and does not use the network.</p>
<p>To iterate the group list, you can use something like this:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> <a class="code" href="class_device_group_helper.html#a6d233beb230798a545d7372857b92158">groups</a> = <a class="code" href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4">DeviceGroupHelper::instance</a>().<a class="code" href="class_device_group_helper.html#a14cf11713fba409f8dbf459348cb018b">getGroups</a>();</div>
<div class="line"><span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code" href="class_device_group_helper.html#a6d233beb230798a545d7372857b92158">groups</a>.begin(); it != <a class="code" href="class_device_group_helper.html#a6d233beb230798a545d7372857b92158">groups</a>.end(); it++) {</div>
<div class="line">    Log.info(<span class="stringliteral">&quot;group %s&quot;</span>, (*it).c_str());</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ac20efc41e233926ff497043043eba785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20efc41e233926ff497043043eba785">&#9670;&nbsp;</a></span>isInGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DeviceGroupHelper::isInGroup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this device belongs to the specified group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The group name to check.</td></tr>
  </table>
  </dd>
</dl>
<p>You can use the notifyCallback to be notified of group changes instead of polling for it using this function.</p>
<p>This uses the previously retrieved list. This is fast and does not use the network. </p>

</div>
</div>
<a id="a13243a73bb51187dab222ad55153c76d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13243a73bb51187dab222ad55153c76d">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You must call <a class="el" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d" title="You must call loop() from global application loop()!">loop()</a> from global application <a class="el" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d" title="You must call loop() from global application loop()!">loop()</a>! </p>
<p>It's normally done like:</p>
<div class="fragment"><div class="line"><a class="code" href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4">DeviceGroupHelper::instance</a>().<a class="code" href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d">loop</a>();</div>
</div><!-- fragment --><p>Failure to call loop will prevent the library from doing anything. </p>

</div>
</div>
<a id="aaf814601ee06ab2cf23aca3104cabfb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf814601ee06ab2cf23aca3104cabfb5">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You must call <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a> from global application <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>! </p>
<p>It's normally done like:</p>
<div class="fragment"><div class="line"><a class="code" href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4">DeviceGroupHelper::instance</a>().<a class="code" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5">setup</a>();</div>
</div><!-- fragment --><p>Failure to call setup will prevent the library from doing anything. </p>

</div>
</div>
<a id="aa5f3fe0432834e4cdfd2c5613ef30052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f3fe0432834e4cdfd2c5613ef30052">&#9670;&nbsp;</a></span>stateWaitConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::stateWaitConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State handler, waits for Particle.connected() then publishes the request event. </p>
<p>Previous state: 0, stateWaitRetry, stateWaitPeriodic Next state: stateWaitResponse </p>

</div>
</div>
<a id="aa4d081d93aa8d758adce0ce4ea435e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d081d93aa8d758adce0ce4ea435e4b">&#9670;&nbsp;</a></span>stateWaitPeriodic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::stateWaitPeriodic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State handler to wait for the next periodic check, or go into idle state (0) </p>
<p>Previous state: stateWaitResponse Next state: 0 or stateWaitConnected </p>

</div>
</div>
<a id="ae99b11582b84e939340ac41a9ad7136e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99b11582b84e939340ac41a9ad7136e">&#9670;&nbsp;</a></span>stateWaitResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::stateWaitResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State handler, waits for the subscription handler to be called. </p>
<p>Previous state: stateWaitConnected Next state: stateWaitRetry, stateWaitPeriodic </p>

</div>
</div>
<a id="a25d03525e7a21deadb41c85f1dd96fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d03525e7a21deadb41c85f1dd96fc7">&#9670;&nbsp;</a></span>stateWaitRetry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::stateWaitRetry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State handler for waiting to retry after the subscribe handler was not called. </p>
<p>Previous state: stateWaitResponse Next state: stateWaitConnected </p>

</div>
</div>
<a id="ac9de5b97127b1b8a38f5540ec50d19b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9de5b97127b1b8a38f5540ec50d19b4">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceGroupHelper::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests an update of the group list. </p>
<p>If the retrieval mode is PERIODIC, then this retrieves now and shifts the next check to be periodicTimeMs from now instead of the originally scheduled time.</p>
<p>Updates usually only take a second or so, but if there is poor network connectivity it could take longer, up to 30 seconds. It could also fail.</p>
<p><a class="el" href="class_device_group_helper.html#a474391afc3128b1a1845c2533ef9181d" title="Returns true if the group list has been retrieved.">retrievedGroups()</a> will return false immediately after calling <a class="el" href="class_device_group_helper.html#ac9de5b97127b1b8a38f5540ec50d19b4" title="Requests an update of the group list.">update()</a> and then will become try again if the operation succeeds.</p>
<p>If the notification callback is used, that will notify of any changes in group membership. </p>

</div>
</div>
<a id="a391ffcadeab8bc8153f4ce479ecda295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391ffcadeab8bc8153f4ce479ecda295">&#9670;&nbsp;</a></span>withEventName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withEventName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Specify the name of the event used to get the device group. Must match integration. </p>
<p>Default is "G52ES20Q_DeviceGroup". </p>

</div>
</div>
<a id="a5068197acbf538ae4e7c52c1fabb35be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5068197acbf538ae4e7c52c1fabb35be">&#9670;&nbsp;</a></span>withNotifyCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withNotifyCallback </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void(<a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">NotificationType</a>, const char *)&gt;&#160;</td>
          <td class="paramname"><em>notifyCallback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a function to be called when the group list is updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notifyCallback</td><td>The function to call</td></tr>
  </table>
  </dd>
</dl>
<p>You can only have one notifyCallback. To remove it, pass NULL.</p>
<p>The function has the prototype:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> callback(<a class="code" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">NotificationType</a> notificationType, <span class="keyword">const</span> <span class="keywordtype">char</span> *group)</div>
</div><!-- fragment --><p>The notificationTypes is one of the constants:</p>
<ul>
<li><a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0a55771bcb939a8afbf4d119d6e0099317" title="This group was added.">NotificationType::ADDED</a> A group was added to this device</li>
<li><a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0ab3461745d64b12346503b2980e436db5" title="This group was removed.">NotificationType::REMOVED</a> A group was removed from this device</li>
<li><a class="el" href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0ac5d66c61a88f1b214933a91fda1e13f5" title="The groups were updated. Use getGroups() to get a set of all group names.">NotificationType::UPDATED</a> The list was updated</li>
</ul>
<p>The UPDATED notification is made after ADDED and REMOVED, and occurs even if no changes occurred. You can use getGroups or <a class="el" href="class_device_group_helper.html#ac20efc41e233926ff497043043eba785" title="Returns true if this device belongs to the specified group.">isInGroup()</a> in the UPDATED callback. The group parameter is always NULL for the UPDATED notification.</p>
<p>The notifyCallback parameter is a std::function so it can also be a C++11 lambda instead of a plain function. This is an easy way to make the callback a member function of your class instead of a static member function. </p>

</div>
</div>
<a id="a2ab0cf6e1d3ce1c0bac367cd38353989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ab0cf6e1d3ce1c0bac367cd38353989">&#9670;&nbsp;</a></span>withPeriodicTimeMs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withPeriodicTimeMs </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the periodic time to check when in RetrivalMode::PERIODIC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>Check period in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>Using <a class="el" href="class_device_group_helper.html#ab1a084627a244f8df62fbfa23fa482ac" title="Sets retrieve groups at start mode and periodically mode. This should be done before setup().">withRetrievalModePeriodic()</a> may be more convenient than using withRetrievalMode(RetrivalMode::PERIODIC) and <a class="el" href="class_device_group_helper.html#a2ab0cf6e1d3ce1c0bac367cd38353989" title="Sets the periodic time to check when in RetrivalMode::PERIODIC.">withPeriodicTimeMs()</a>. </p>

</div>
</div>
<a id="a2acc9af17f8dfd4b9523fc0ce63a5e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2acc9af17f8dfd4b9523fc0ce63a5e7d">&#9670;&nbsp;</a></span>withRetrievalModeManual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withRetrievalModeManual </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets manual retrieval mode. This is the default mode. </p>
<p>Normally called before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a> but you can change it later using this method for example if you want to stop periodically checking at runtime. </p>

</div>
</div>
<a id="ab42dfaafd727304c533142e6dae7b930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42dfaafd727304c533142e6dae7b930">&#9670;&nbsp;</a></span>withRetrievalModePeriodic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withRetrievalModePeriodic </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>chronoLiteral</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets retrieve groups at start mode and periodically mode. This should be done before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chronoLiteral</td><td>Time between retrievals as a chrono literal, for example 15min or 24h.</td></tr>
  </table>
  </dd>
</dl>
<p>You don't want to set this to be too short as each retrieve uses two data operations. </p>

</div>
</div>
<a id="ab1a084627a244f8df62fbfa23fa482ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a084627a244f8df62fbfa23fa482ac">&#9670;&nbsp;</a></span>withRetrievalModePeriodic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_device_group_helper.html">DeviceGroupHelper</a>&amp; DeviceGroupHelper::withRetrievalModePeriodic </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets retrieve groups at start mode and periodically mode. This should be done before <a class="el" href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5" title="You must call setup() from global application setup()!">setup()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>The number of milliseconds between retrievals.</td></tr>
  </table>
  </dd>
</dl>
<p>You don't want to set this to be too short as each retrieve uses two data operations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_device_group_helper_r_k_8h_source.html">DeviceGroupHelperRK.h</a></li>
<li>src/DeviceGroupHelperRK.cpp</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclass_device_group_helper_html_a13243a73bb51187dab222ad55153c76d"><div class="ttname"><a href="class_device_group_helper.html#a13243a73bb51187dab222ad55153c76d">DeviceGroupHelper::loop</a></div><div class="ttdeci">void loop()</div><div class="ttdoc">You must call loop() from global application loop()!</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.cpp:25</div></div>
<div class="ttc" id="aclass_device_group_helper_html_a14cf11713fba409f8dbf459348cb018b"><div class="ttname"><a href="class_device_group_helper.html#a14cf11713fba409f8dbf459348cb018b">DeviceGroupHelper::getGroups</a></div><div class="ttdeci">const std::unordered_set&lt; std::string &gt; getGroups() const</div><div class="ttdoc">Gets the set of all groups the device current belongs to.</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.h:192</div></div>
<div class="ttc" id="aclass_device_group_helper_html_aaf814601ee06ab2cf23aca3104cabfb5"><div class="ttname"><a href="class_device_group_helper.html#aaf814601ee06ab2cf23aca3104cabfb5">DeviceGroupHelper::setup</a></div><div class="ttdeci">void setup()</div><div class="ttdoc">You must call setup() from global application setup()!</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.cpp:16</div></div>
<div class="ttc" id="aclass_device_group_helper_html_a82b992441e25ce8db2007d04814be8b0"><div class="ttname"><a href="class_device_group_helper.html#a82b992441e25ce8db2007d04814be8b0">DeviceGroupHelper::NotificationType</a></div><div class="ttdeci">NotificationType</div><div class="ttdoc">Used for the notify callback to specify what is being notified of.</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.h:42</div></div>
<div class="ttc" id="aclass_device_group_helper_html_a47b4e36d163d5b348519ffa64ec38df4"><div class="ttname"><a href="class_device_group_helper.html#a47b4e36d163d5b348519ffa64ec38df4">DeviceGroupHelper::instance</a></div><div class="ttdeci">static DeviceGroupHelper &amp; instance()</div><div class="ttdoc">Get the singleton instance of this class.</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.cpp:8</div></div>
<div class="ttc" id="aclass_device_group_helper_html_a6d233beb230798a545d7372857b92158"><div class="ttname"><a href="class_device_group_helper.html#a6d233beb230798a545d7372857b92158">DeviceGroupHelper::groups</a></div><div class="ttdeci">std::unordered_set&lt; std::string &gt; groups</div><div class="ttdoc">Groups this device belongs to.</div><div class="ttdef"><b>Definition:</b> DeviceGroupHelperRK.h:318</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
