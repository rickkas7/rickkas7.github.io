<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CloudConfigRK: CloudConfigUpdateSubscription Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CloudConfigRK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CloudConfigUpdateSubscription Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Update configuration via Particle event.  
 <a href="class_cloud_config_update_subscription.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_cloud_config_r_k_8h_source.html">CloudConfigRK.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CloudConfigUpdateSubscription:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_cloud_config_update_subscription.png" usemap="#CloudConfigUpdateSubscription_map" alt=""/>
  <map id="CloudConfigUpdateSubscription_map" name="CloudConfigUpdateSubscription_map">
<area href="class_cloud_config_update.html" title="Abstract base class for updating cloud config data." alt="CloudConfigUpdate" shape="rect" coords="0,0,191,24"/>
<area href="class_cloud_config_update_webhook.html" title="Update configuration from data retrieved from a webhook." alt="CloudConfigUpdateWebhook" shape="rect" coords="0,112,191,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa0c7b1bdec36689e6f67dbcc8c857f60"><td class="memItemLeft" align="right" valign="top"><a id="aa0c7b1bdec36689e6f67dbcc8c857f60"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#aa0c7b1bdec36689e6f67dbcc8c857f60">CloudConfigUpdateSubscription</a> ()</td></tr>
<tr class="memdesc:aa0c7b1bdec36689e6f67dbcc8c857f60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:aa0c7b1bdec36689e6f67dbcc8c857f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaafd3aa0409f27a0dd57311c0e6a6a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#aaaafd3aa0409f27a0dd57311c0e6a6a0">CloudConfigUpdateSubscription</a> (const char *<a class="el" href="class_cloud_config_update_subscription.html#a6120d2dc77f1918c4658e921fb397dbb">eventName</a>)</td></tr>
<tr class="memdesc:aaaafd3aa0409f27a0dd57311c0e6a6a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with event name.  <a href="class_cloud_config_update_subscription.html#aaaafd3aa0409f27a0dd57311c0e6a6a0">More...</a><br /></td></tr>
<tr class="separator:aaaafd3aa0409f27a0dd57311c0e6a6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31cc7e3326675de5d2fb316e88e65a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cloud_config_update_subscription.html">CloudConfigUpdateSubscription</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#ac31cc7e3326675de5d2fb316e88e65a1">withEventName</a> (const char *<a class="el" href="class_cloud_config_update_subscription.html#a6120d2dc77f1918c4658e921fb397dbb">eventName</a>)</td></tr>
<tr class="memdesc:ac31cc7e3326675de5d2fb316e88e65a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to set the event name to subscribe to.  <a href="class_cloud_config_update_subscription.html#ac31cc7e3326675de5d2fb316e88e65a1">More...</a><br /></td></tr>
<tr class="separator:ac31cc7e3326675de5d2fb316e88e65a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a9b2a61335da2c5b8ac9a259c62d0b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b">setup</a> ()</td></tr>
<tr class="memdesc:a05a9b2a61335da2c5b8ac9a259c62d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called during <a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b" title="Called during setup()">setup()</a>  <a href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b">More...</a><br /></td></tr>
<tr class="separator:a05a9b2a61335da2c5b8ac9a259c62d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01588ee776ae0b7c41f6858418a7852e"><td class="memItemLeft" align="right" valign="top"><a id="a01588ee776ae0b7c41f6858418a7852e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#a01588ee776ae0b7c41f6858418a7852e">subscriptionHandler</a> (const char *<a class="el" href="class_cloud_config_update_subscription.html#a6120d2dc77f1918c4658e921fb397dbb">eventName</a>, const char *eventData)</td></tr>
<tr class="memdesc:a01588ee776ae0b7c41f6858418a7852e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler called when the event is received. <br /></td></tr>
<tr class="separator:a01588ee776ae0b7c41f6858418a7852e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_cloud_config_update"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_cloud_config_update')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a></td></tr>
<tr class="memitem:abbd0dbdabe96ecadb8f37da4bc0d71b0 inherit pub_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top"><a id="abbd0dbdabe96ecadb8f37da4bc0d71b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#abbd0dbdabe96ecadb8f37da4bc0d71b0">CloudConfigUpdate</a> ()</td></tr>
<tr class="memdesc:abbd0dbdabe96ecadb8f37da4bc0d71b0 inherit pub_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:abbd0dbdabe96ecadb8f37da4bc0d71b0 inherit pub_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf6af8ced3430416f291047d51cface inherit pub_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#a0cf6af8ced3430416f291047d51cface">loop</a> ()</td></tr>
<tr class="memdesc:a0cf6af8ced3430416f291047d51cface inherit pub_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called during <a class="el" href="class_cloud_config_update.html#a0cf6af8ced3430416f291047d51cface" title="Called during loop() to allow update methods to have loop time.">loop()</a> to allow update methods to have loop time.  <a href="class_cloud_config_update.html#a0cf6af8ced3430416f291047d51cface">More...</a><br /></td></tr>
<tr class="separator:a0cf6af8ced3430416f291047d51cface inherit pub_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd320088d41d3db9e3263ea1169ee618 inherit pub_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#acd320088d41d3db9e3263ea1169ee618">startUpdate</a> ()</td></tr>
<tr class="memdesc:acd320088d41d3db9e3263ea1169ee618 inherit pub_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when subclasses should update the data from the cloud.  <a href="class_cloud_config_update.html#acd320088d41d3db9e3263ea1169ee618">More...</a><br /></td></tr>
<tr class="separator:acd320088d41d3db9e3263ea1169ee618 inherit pub_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6120d2dc77f1918c4658e921fb397dbb"><td class="memItemLeft" align="right" valign="top"><a id="a6120d2dc77f1918c4658e921fb397dbb"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update_subscription.html#a6120d2dc77f1918c4658e921fb397dbb">eventName</a></td></tr>
<tr class="memdesc:a6120d2dc77f1918c4658e921fb397dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribed event name passed to constructor or withEventName. Used during <a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b" title="Called during setup()">setup()</a>. <br /></td></tr>
<tr class="separator:a6120d2dc77f1918c4658e921fb397dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_class_cloud_config_update"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_cloud_config_update')"><img src="closed.png" alt="-"/>&#160;Data Fields inherited from <a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a></td></tr>
<tr class="memitem:a87b260be888fc6836243dd079086f118 inherit pub_attribs_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top"><a id="a87b260be888fc6836243dd079086f118"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#a87b260be888fc6836243dd079086f118">waitAfterCloudConnectedMs</a> = 2000</td></tr>
<tr class="memdesc:a87b260be888fc6836243dd079086f118 inherit pub_attribs_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">How long to wait after cloud connected to update settings. <br /></td></tr>
<tr class="separator:a87b260be888fc6836243dd079086f118 inherit pub_attribs_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf74ac1ad5670f3c3d3f426226c9c6b inherit pub_attribs_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#a3cf74ac1ad5670f3c3d3f426226c9c6b">updateTimeoutMs</a> = 60000</td></tr>
<tr class="memdesc:a3cf74ac1ad5670f3c3d3f426226c9c6b inherit pub_attribs_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a response is not received in this amount of time, an error is assumed and another attempt will be made later.  <a href="class_cloud_config_update.html#a3cf74ac1ad5670f3c3d3f426226c9c6b">More...</a><br /></td></tr>
<tr class="separator:a3cf74ac1ad5670f3c3d3f426226c9c6b inherit pub_attribs_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_cloud_config_update"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_cloud_config_update')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a></td></tr>
<tr class="memitem:a66afc0a0b137aa89ab4c53768000d03d inherit pro_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top"><a id="a66afc0a0b137aa89ab4c53768000d03d"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#a66afc0a0b137aa89ab4c53768000d03d">~CloudConfigUpdate</a> ()</td></tr>
<tr class="memdesc:a66afc0a0b137aa89ab4c53768000d03d inherit pro_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Base class destructor is empty. Also, you can't delete one of these. <br /></td></tr>
<tr class="separator:a66afc0a0b137aa89ab4c53768000d03d inherit pro_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d07955b51bd0740a2e19ac329d5229a inherit pro_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top"><a id="a1d07955b51bd0740a2e19ac329d5229a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#a1d07955b51bd0740a2e19ac329d5229a">CloudConfigUpdate</a> (const <a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a> &amp;)=delete</td></tr>
<tr class="memdesc:a1d07955b51bd0740a2e19ac329d5229a inherit pro_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:a1d07955b51bd0740a2e19ac329d5229a inherit pro_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac174097db67872599cbd3ffa6c75747a inherit pro_methods_class_cloud_config_update"><td class="memItemLeft" align="right" valign="top"><a id="ac174097db67872599cbd3ffa6c75747a"></a>
<a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cloud_config_update.html#ac174097db67872599cbd3ffa6c75747a">operator=</a> (const <a class="el" href="class_cloud_config_update.html">CloudConfigUpdate</a> &amp;)=delete</td></tr>
<tr class="memdesc:ac174097db67872599cbd3ffa6c75747a inherit pro_methods_class_cloud_config_update"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:ac174097db67872599cbd3ffa6c75747a inherit pro_methods_class_cloud_config_update"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Update configuration via Particle event. </p>
<p>Subscription is a good choice if:</p><ul>
<li>You want to update all devices at once efficiently.</li>
<li>Devices are generally always online.</li>
<li>Devices must be claimed to an account.</li>
</ul>
<p>You will probably want to subclass this if you want to be able to have the device request an update since there is no way for this class to know how to request it. See <a class="el" href="class_cloud_config_update_webhook.html" title="Update configuration from data retrieved from a webhook.">CloudConfigUpdateWebhook</a> for and example of using <a class="el" href="class_cloud_config_update.html#acd320088d41d3db9e3263ea1169ee618" title="Called when subclasses should update the data from the cloud.">startUpdate()</a> to make a request. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaaafd3aa0409f27a0dd57311c0e6a6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaafd3aa0409f27a0dd57311c0e6a6a0">&#9670;&nbsp;</a></span>CloudConfigUpdateSubscription()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CloudConfigUpdateSubscription::CloudConfigUpdateSubscription </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with event name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event to subscribe to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a05a9b2a61335da2c5b8ac9a259c62d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a9b2a61335da2c5b8ac9a259c62d0b">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CloudConfigUpdateSubscription::setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called during <a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b" title="Called during setup()">setup()</a> </p>
<p>Be sure to set the eventName before calling <a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b" title="Called during setup()">setup()</a>! </p>

<p>Reimplemented from <a class="el" href="class_cloud_config_update.html#a8a4a7835ced38c55bc90e85cabd8cf6a">CloudConfigUpdate</a>.</p>

</div>
</div>
<a id="ac31cc7e3326675de5d2fb316e88e65a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31cc7e3326675de5d2fb316e88e65a1">&#9670;&nbsp;</a></span>withEventName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cloud_config_update_subscription.html">CloudConfigUpdateSubscription</a>&amp; CloudConfigUpdateSubscription::withEventName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to set the event name to subscribe to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event to subscribe to</td></tr>
  </table>
  </dd>
</dl>
<p>This must be called before <a class="el" href="class_cloud_config_update_subscription.html#a05a9b2a61335da2c5b8ac9a259c62d0b" title="Called during setup()">setup()</a>. Calling it later will have no effect. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_cloud_config_r_k_8h_source.html">CloudConfigRK.h</a></li>
<li>src/CloudConfigRK.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
