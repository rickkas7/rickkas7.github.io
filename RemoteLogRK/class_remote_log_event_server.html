<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RemoteLogRK: RemoteLogEventServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RemoteLogRK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RemoteLogEventServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sends out debug logs as Particle events.  
 <a href="class_remote_log_event_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_remote_log_r_k_8h_source.html">RemoteLogRK.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RemoteLogEventServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_remote_log_event_server.png" usemap="#RemoteLogEventServer_map" alt=""/>
  <map id="RemoteLogEventServer_map" name="RemoteLogEventServer_map">
<area href="class_remote_log_server.html" title="Abstract base class for all server types (RemoteLogTCPServer, RemoteLogUDPMulticastServer,..." alt="RemoteLogServer" shape="rect" coords="0,0,145,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac80910ee1eb45e4aad529cd5dd4e8e92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#ac80910ee1eb45e4aad529cd5dd4e8e92">RemoteLogEventServer</a> (const char *<a class="el" href="class_remote_log_event_server.html#af9acb32569e70731db833b240a9e00f5">eventName</a>)</td></tr>
<tr class="memdesc:ac80910ee1eb45e4aad529cd5dd4e8e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="class_remote_log_event_server.html#ac80910ee1eb45e4aad529cd5dd4e8e92">More...</a><br /></td></tr>
<tr class="separator:ac80910ee1eb45e4aad529cd5dd4e8e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1073d26d84f7ea6f0a6baecd1dbdcc"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a1d1073d26d84f7ea6f0a6baecd1dbdcc">~RemoteLogEventServer</a> ()</td></tr>
<tr class="memdesc:a1d1073d26d84f7ea6f0a6baecd1dbdcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="class_remote_log_event_server.html#a1d1073d26d84f7ea6f0a6baecd1dbdcc">More...</a><br /></td></tr>
<tr class="separator:a1d1073d26d84f7ea6f0a6baecd1dbdcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7735b591fdf6ce578c2cd185799b9687"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a7735b591fdf6ce578c2cd185799b9687">loop</a> (size_t &amp;readIndex)</td></tr>
<tr class="memdesc:a7735b591fdf6ce578c2cd185799b9687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform loop time operations such as reading and writing sockets.  <a href="class_remote_log_event_server.html#a7735b591fdf6ce578c2cd185799b9687">More...</a><br /></td></tr>
<tr class="separator:a7735b591fdf6ce578c2cd185799b9687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_remote_log_server"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_remote_log_server')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_remote_log_server.html">RemoteLogServer</a></td></tr>
<tr class="memitem:aedc063a50bd20e623e8b92146930d7d1 inherit pub_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top"><a id="aedc063a50bd20e623e8b92146930d7d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#aedc063a50bd20e623e8b92146930d7d1">RemoteLogServer</a> ()</td></tr>
<tr class="memdesc:aedc063a50bd20e623e8b92146930d7d1 inherit pub_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class constructor. Doesn't do anything. <br /></td></tr>
<tr class="separator:aedc063a50bd20e623e8b92146930d7d1 inherit pub_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919b424f86ed1e1c93ed6c2038abee2d inherit pub_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top"><a id="a919b424f86ed1e1c93ed6c2038abee2d"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#a919b424f86ed1e1c93ed6c2038abee2d">~RemoteLogServer</a> ()</td></tr>
<tr class="memdesc:a919b424f86ed1e1c93ed6c2038abee2d inherit pub_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not typically deleted, because you can't unregister one. <br /></td></tr>
<tr class="separator:a919b424f86ed1e1c93ed6c2038abee2d inherit pub_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e4f5492590ab07e8e3c5947c395ca8 inherit pub_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#a02e4f5492590ab07e8e3c5947c395ca8">setup</a> ()</td></tr>
<tr class="memdesc:a02e4f5492590ab07e8e3c5947c395ca8 inherit pub_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform setup operations.  <a href="class_remote_log_server.html#a02e4f5492590ab07e8e3c5947c395ca8">More...</a><br /></td></tr>
<tr class="separator:a02e4f5492590ab07e8e3c5947c395ca8 inherit pub_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f10fe65a8b24d742a1b250a9dccf21 inherit pub_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#a62f10fe65a8b24d742a1b250a9dccf21">reset</a> ()</td></tr>
<tr class="memdesc:a62f10fe65a8b24d742a1b250a9dccf21 inherit pub_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset is about to occur, do things like disconnect sockets.  <a href="class_remote_log_server.html#a62f10fe65a8b24d742a1b250a9dccf21">More...</a><br /></td></tr>
<tr class="separator:a62f10fe65a8b24d742a1b250a9dccf21 inherit pub_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5ac847a6e67b35fb2b3200e3b6e41482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a5ac847a6e67b35fb2b3200e3b6e41482">stateWaitForMessage</a> (size_t &amp;readIndex)</td></tr>
<tr class="memdesc:a5ac847a6e67b35fb2b3200e3b6e41482"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler to wait for cloud connected and messages to send. Called from <a class="el" href="class_remote_log_event_server.html#a7735b591fdf6ce578c2cd185799b9687" title="Perform loop time operations such as reading and writing sockets.">loop()</a>.  <a href="class_remote_log_event_server.html#a5ac847a6e67b35fb2b3200e3b6e41482">More...</a><br /></td></tr>
<tr class="separator:a5ac847a6e67b35fb2b3200e3b6e41482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b8308cdef2cb437d60af7f6ab58f44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a31b8308cdef2cb437d60af7f6ab58f44">stateTryPublish</a> (size_t &amp;readIndex)</td></tr>
<tr class="memdesc:a31b8308cdef2cb437d60af7f6ab58f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">If still connected to the cloud and it has been at least 1010 milliseconds, publish.  <a href="class_remote_log_event_server.html#a31b8308cdef2cb437d60af7f6ab58f44">More...</a><br /></td></tr>
<tr class="separator:a31b8308cdef2cb437d60af7f6ab58f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1830a98db473d4d51fdfea8e457423d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a1830a98db473d4d51fdfea8e457423d6">stateFutureWait</a> (size_t &amp;readIndex)</td></tr>
<tr class="memdesc:a1830a98db473d4d51fdfea8e457423d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the publish to succeed or fail.  <a href="class_remote_log_event_server.html#a1830a98db473d4d51fdfea8e457423d6">More...</a><br /></td></tr>
<tr class="separator:a1830a98db473d4d51fdfea8e457423d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_remote_log_server"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_remote_log_server')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_remote_log_server.html">RemoteLogServer</a></td></tr>
<tr class="memitem:a6b2fd63fc0a706259d8c612c337e2367 inherit pro_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top"><a id="a6b2fd63fc0a706259d8c612c337e2367"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#a6b2fd63fc0a706259d8c612c337e2367">RemoteLogServer</a> (const <a class="el" href="class_remote_log_server.html">RemoteLogServer</a> &amp;)=delete</td></tr>
<tr class="memdesc:a6b2fd63fc0a706259d8c612c337e2367 inherit pro_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:a6b2fd63fc0a706259d8c612c337e2367 inherit pro_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372ee5381cf9ab5bdc8d3147c68b4eb0 inherit pro_methods_class_remote_log_server"><td class="memItemLeft" align="right" valign="top"><a id="a372ee5381cf9ab5bdc8d3147c68b4eb0"></a>
<a class="el" href="class_remote_log_server.html">RemoteLogServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_server.html#a372ee5381cf9ab5bdc8d3147c68b4eb0">operator=</a> (const <a class="el" href="class_remote_log_server.html">RemoteLogServer</a> &amp;)=delete</td></tr>
<tr class="memdesc:a372ee5381cf9ab5bdc8d3147c68b4eb0 inherit pro_methods_class_remote_log_server"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is not copyable. <br /></td></tr>
<tr class="separator:a372ee5381cf9ab5bdc8d3147c68b4eb0 inherit pro_methods_class_remote_log_server"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af9acb32569e70731db833b240a9e00f5"><td class="memItemLeft" align="right" valign="top"><a id="af9acb32569e70731db833b240a9e00f5"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#af9acb32569e70731db833b240a9e00f5">eventName</a></td></tr>
<tr class="memdesc:af9acb32569e70731db833b240a9e00f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event name to publish, passed to the constructor. <br /></td></tr>
<tr class="separator:af9acb32569e70731db833b240a9e00f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1ba780a82aa3004f86332ac00529a0"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a5e1ba780a82aa3004f86332ac00529a0">buf</a> [particle::protocol::MAX_EVENT_DATA_LENGTH+1]</td></tr>
<tr class="memdesc:a5e1ba780a82aa3004f86332ac00529a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer to hold the event to be published.  <a href="class_remote_log_event_server.html#a5e1ba780a82aa3004f86332ac00529a0">More...</a><br /></td></tr>
<tr class="separator:a5e1ba780a82aa3004f86332ac00529a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c9704b5413303df031f02dfe6f54c0"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#aa2c9704b5413303df031f02dfe6f54c0">lastPublish</a> = 0</td></tr>
<tr class="memdesc:aa2c9704b5413303df031f02dfe6f54c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The millis() counter at the time of the last publish.  <a href="class_remote_log_event_server.html#aa2c9704b5413303df031f02dfe6f54c0">More...</a><br /></td></tr>
<tr class="separator:aa2c9704b5413303df031f02dfe6f54c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b35d6c48a97cfa4943c475849a33e6b"><td class="memItemLeft" align="right" valign="top"><a id="a1b35d6c48a97cfa4943c475849a33e6b"></a>
particle::Future&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#a1b35d6c48a97cfa4943c475849a33e6b">publishFuture</a></td></tr>
<tr class="memdesc:a1b35d6c48a97cfa4943c475849a33e6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Future used to determine if the publish has completed yet. <br /></td></tr>
<tr class="separator:a1b35d6c48a97cfa4943c475849a33e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5b5ffe36aba42bcf6016681a54318b"><td class="memItemLeft" align="right" valign="top"><a id="acb5b5ffe36aba42bcf6016681a54318b"></a>
std::function&lt; void(<a class="el" href="class_remote_log_event_server.html">RemoteLogEventServer</a> &amp;, size_t &amp;readIndex)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_remote_log_event_server.html#acb5b5ffe36aba42bcf6016681a54318b">stateHandler</a> = &amp;<a class="el" href="class_remote_log_event_server.html#a5ac847a6e67b35fb2b3200e3b6e41482">RemoteLogEventServer::stateWaitForMessage</a></td></tr>
<tr class="memdesc:acb5b5ffe36aba42bcf6016681a54318b"><td class="mdescLeft">&#160;</td><td class="mdescRight">State handler, called from loop. <br /></td></tr>
<tr class="separator:acb5b5ffe36aba42bcf6016681a54318b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sends out debug logs as Particle events. </p>
<p>Works on both cellular and Wi-Fi. Automatically meters out data at 1 second intervals to avoid event throttling. Sends multiple messages in a single publish up to the maximum publish size of 622 bytes if there are multiple messages queued. However, if there is only one available, that one will be sent immediately to keep the events in approximately real-time. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac80910ee1eb45e4aad529cd5dd4e8e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80910ee1eb45e4aad529cd5dd4e8e92">&#9670;&nbsp;</a></span>RemoteLogEventServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RemoteLogEventServer::RemoteLogEventServer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The event name to use for the publish </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d1073d26d84f7ea6f0a6baecd1dbdcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1073d26d84f7ea6f0a6baecd1dbdcc">&#9670;&nbsp;</a></span>~RemoteLogEventServer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RemoteLogEventServer::~RemoteLogEventServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>This object is not typically deleted as you can't unregister a server, so deleting it would cause a dangling pointer. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7735b591fdf6ce578c2cd185799b9687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7735b591fdf6ce578c2cd185799b9687">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteLogEventServer::loop </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>readIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform loop time operations such as reading and writing sockets. </p>
<p>Calls the state handler in stateHandler. </p>

<p>Reimplemented from <a class="el" href="class_remote_log_server.html#a88f5b612fbe7d8ce60f5b16121483173">RemoteLogServer</a>.</p>

</div>
</div>
<a id="a1830a98db473d4d51fdfea8e457423d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1830a98db473d4d51fdfea8e457423d6">&#9670;&nbsp;</a></span>stateFutureWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteLogEventServer::stateFutureWait </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>readIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for the publish to succeed or fail. </p>
<p>Next state: stateWaitForMessage (success) or stateTryPublish (failure) </p>

</div>
</div>
<a id="a31b8308cdef2cb437d60af7f6ab58f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b8308cdef2cb437d60af7f6ab58f44">&#9670;&nbsp;</a></span>stateTryPublish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteLogEventServer::stateTryPublish </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>readIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If still connected to the cloud and it has been at least 1010 milliseconds, publish. </p>
<p>The publish is non-blocking using a future.</p>
<p>Previous state: stateWaitForMessage Next state: stateFutureWait </p>

</div>
</div>
<a id="a5ac847a6e67b35fb2b3200e3b6e41482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac847a6e67b35fb2b3200e3b6e41482">&#9670;&nbsp;</a></span>stateWaitForMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteLogEventServer::stateWaitForMessage </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>readIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State handler to wait for cloud connected and messages to send. Called from <a class="el" href="class_remote_log_event_server.html#a7735b591fdf6ce578c2cd185799b9687" title="Perform loop time operations such as reading and writing sockets.">loop()</a>. </p>
<p>If cloud connected and there is a message, the message is consumed and copied into buf.</p>
<p>Next state: stateTryPublish </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a5e1ba780a82aa3004f86332ac00529a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e1ba780a82aa3004f86332ac00529a0">&#9670;&nbsp;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char RemoteLogEventServer::buf[particle::protocol::MAX_EVENT_DATA_LENGTH+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer to hold the event to be published. </p>
<p>It's copied into a buffer because otherwise it would need to lock the main circular buffer during the entire publish operation, which would take way too long. </p>

</div>
</div>
<a id="aa2c9704b5413303df031f02dfe6f54c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c9704b5413303df031f02dfe6f54c0">&#9670;&nbsp;</a></span>lastPublish</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long RemoteLogEventServer::lastPublish = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The millis() counter at the time of the last publish. </p>
<p>This is used to prevent publishing more than once every 1010 milliseconds. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_remote_log_r_k_8h_source.html">RemoteLogRK.h</a></li>
<li>src/RemoteLogRK.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
